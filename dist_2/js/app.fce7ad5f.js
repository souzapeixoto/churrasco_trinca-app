(function(e){function t(t){for(var r,i,n=t[0],c=t[1],l=t[2],u=0,m=[];u<n.length;u++)i=n[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&m.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(m.length)m.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,n=1;n<a.length;n++){var c=a[n];0!==o[c]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},o={app:0},s=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=t,n=n.slice();for(var l=0;l<n.length;l++)t(n[l]);var d=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"00b3":function(e,t,a){},1355:function(e,t,a){e.exports=a.p+"img/barbecue.cccb5935.png"},4678:function(e,t,a){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=s,e.exports=o,o.id="4678"},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a(e.layout,{tag:"component"})],1)},s=[],i="default",n={name:"App",components:{},computed:{layout:function(){return(this.$route.meta.layout||i)+"-layout"}}},c=n,l=a("2877"),d=a("6544"),u=a.n(d),m=a("7496"),v=Object(l["a"])(c,o,s,!1,null,null,null),h=v.exports;u()(v,{VApp:m["a"]});var f=a("f309");r["a"].use(f["a"]);var p=new f["a"]({}),b=a("8c4f"),g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",align:"center"}},[r("v-responsive",{attrs:{"max-height":270,"aspect-ratio":"4/4"}},[r("v-img",{staticClass:"pb-0 mb-0",attrs:{contain:"",height:"200",src:a("1355")}}),r("h1",[e._v("Churras Trinca")])],1),r("v-card",{attrs:{"max-width":"400"}},[r("v-card-text",{staticClass:"pt-0"},[r("div",{staticClass:"title font-weight-light mb-2"},[e._v("Login")]),r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{attrs:{rules:e.emailRules,label:"E-mail",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("v-text-field",{attrs:{rules:e.passwordRules,type:"password",label:"Password",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("v-checkbox",{attrs:{label:"me manter conectado?",required:""},model:{value:e.checkbox,callback:function(t){e.checkbox=t},expression:"checkbox"}}),r("v-btn",{attrs:{color:"success",width:"100%"},on:{click:e.submit}},[e._v(" Efetuar Login ")])],1),r("v-divider",{staticClass:"my-2"}),e._v(" Ainda não se cadastrou? "),r("v-btn",{staticClass:"ma-1",attrs:{color:"primary",plain:""},on:{click:function(t){return e.$router.push({name:"register"})}}},[e._v(" Clique aqui! ")]),r("br"),r("span",{staticClass:"caption grey--text font-weight-light"},[e._v("Agenda Mestre since 2017")])],1)],1)],1)],1)],1)},x=[],k={data:function(){return{valid:!0,password:"",passwordRules:[function(e){return!!e||"Senha é obrigatório"}],email:"",emailRules:[function(e){return!!e||"E-mail é obrigatório"},function(e){return!e||/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)||"E-mail inválido"}],checkbox:!1}},methods:{submit:function(){var e=this;this.$refs.form.validate()&&this.$http.post("Account/token",this.$qs.stringify({email:this.email,password:this.password,grant_type:"password"})).then((function(t){localStorage.setItem("access_token",t.data.token),localStorage.setItem("refresh_token",t.data.refreshToken),e.$router.push({name:"churrasco"})})).catch((function(t){e.$toast.error(t.response?t.response.data.error_description:"Não foi possivel realizar o login, tente mais tarde.")}))}}},C=k,j=a("8336"),_=a("b0af"),y=a("99d9"),$=a("ac7c"),w=a("62ad"),V=a("a523"),I=a("ce7e"),O=a("4bd4"),D=a("adda"),T=a("6b53"),E=a("0fd9"),S=a("8654"),q=Object(l["a"])(C,g,x,!1,null,null,null),A=q.exports;u()(q,{VBtn:j["a"],VCard:_["a"],VCardText:y["b"],VCheckbox:$["a"],VCol:w["a"],VContainer:V["a"],VDivider:I["a"],VForm:O["a"],VImg:D["a"],VResponsive:T["a"],VRow:E["a"],VTextField:S["a"]});var R=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",align:"center"}},[r("v-responsive",{attrs:{"max-height":270,"aspect-ratio":"4/4"}},[r("v-img",{staticClass:"pb-0 mb-0",attrs:{contain:"",height:"200",src:a("1355")}}),r("h1",[e._v("Churras Trinca")])],1),r("v-card",{attrs:{"max-width":"400"}},[r("v-card-text",{staticClass:"pt-0"},[r("div",{staticClass:"title font-weight-light mb-2"},[e._v("Cadastre-se")]),r("v-text-field",{attrs:{label:"Nome","error-messages":e.nomeErrors},model:{value:e.register.nome,callback:function(t){e.$set(e.register,"nome",t)},expression:"register.nome"}}),r("v-text-field",{attrs:{"error-messages":e.emailErrors,label:"E-mail",required:""},model:{value:e.register.email,callback:function(t){e.$set(e.register,"email",t)},expression:"register.email"}}),r("v-text-field",{attrs:{"error-messages":e.passwordErrors,type:"password",label:"Password",required:""},model:{value:e.register.password,callback:function(t){e.$set(e.register,"password",t)},expression:"register.password"}}),r("v-text-field",{attrs:{"error-messages":e.confirmPasswordErrors,type:"password",label:"Confirm Password",required:""},model:{value:e.register.confirmPassword,callback:function(t){e.$set(e.register,"confirmPassword",t)},expression:"register.confirmPassword"}}),r("v-btn",{attrs:{color:"success",width:"100%"},on:{click:e.submit}},[e._v(" Cadastrar ")]),r("v-divider",{staticClass:"my-2"}),r("span",{staticClass:"caption grey--text font-weight-light"},[e._v("Churras Trinca. since 2021")])],1)],1)],1)],1)],1)},M=[],N=a("1dce"),z=a("b5ae"),P={mixins:[N["validationMixin"]],validations:{register:{nome:{required:z["required"]},password:{required:z["required"]},email:{required:z["required"]},confirmPassword:{required:z["required"],sameAs:Object(z["sameAs"])((function(){return this.register.password}))}}},data:function(){return{register:{password:"",email:"",nome:"",confirmPassword:""}}},computed:{emailErrors:function(){var e=[];return this.$v.register.email.$dirty?(!this.$v.register.email.required&&e.push("Email é obrigatório"),e):e},passwordErrors:function(){var e=[];return this.$v.register.password.$dirty?(!this.$v.register.password.required&&e.push("Senha é obrigatória"),e):e},confirmPasswordErrors:function(){var e=[];return this.$v.register.confirmPassword.$dirty?(!this.$v.register.confirmPassword.required&&e.push("Campo obrigatório"),!this.$v.register.confirmPassword.sameAs&&e.push("Senha não confere"),e):e},nomeErrors:function(){var e=[];return this.$v.register.nome.$dirty?(!this.$v.register.nome.required&&e.push("Nome é obrigatório."),e):e}},methods:{submit:function(){var e=this;this.$v.$invalid?this.$v.$touch():this.$http.post("Account/Register",this.$qs.stringify(this.register)).then((function(t){r["a"].$toast.success(t.data?t.data.message:"Cadastro realizado com sucesso!"),e.$router.push({name:"login"})})).catch((function(e){r["a"].$toast.error(e.response?e.response.data:"Não foi possivel realizar o cadastro, tente mais tarde.")}))}}},H=P,Y=Object(l["a"])(H,R,M,!1,null,null,null),B=Y.exports;u()(Y,{VBtn:j["a"],VCard:_["a"],VCardText:y["b"],VCol:w["a"],VContainer:V["a"],VDivider:I["a"],VImg:D["a"],VResponsive:T["a"],VRow:E["a"],VTextField:S["a"]});var G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",[e._l(e.churrascos,(function(e){return a("v-col",{key:e.id,attrs:{cols:"12",sm:"3"}},[a("Card",{attrs:{churrasco:e}})],1)})),a("v-col",{attrs:{cols:"12"}})],2)},L=[],U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"mx-auto",attrs:{color:"#26c6da",dark:"","max-width":"700"},on:{click:function(t){return e.goToEditChurras()}}},[a("v-card-title",[a("v-icon",{attrs:{large:"",left:""}},[e._v(" mdi-grill-outline ")]),a("span",{staticClass:"text-h6 font-weight-light"},[e._v("Churras!")])],1),a("v-card-text",{staticClass:"text-h5 font-weight-bold"},[e._v(" "+e._s(e.churrasco.descricao)+" ")]),a("v-card-actions",[a("v-list-item",{staticClass:"grow"},[a("v-list-item-avatar",{attrs:{color:"primary"}},[a("v-icon",[e._v(" mdi-calendar-heart ")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(e.moment(e.churrasco.data).format("DD/MM/YYYY")))]),a("v-list-item-title",[e._v("às "+e._s(e.moment(e.churrasco.data).format("HH:mm")))])],1),a("v-row",{attrs:{align:"center",justify:"end"}},[a("v-icon",{staticClass:"mr-1"},[e._v(" mdi-account-cash-outline ")]),a("span",{staticClass:"subheading mr-2"},[e._v("R$"+e._s(e.churrasco.valorArrecadado))]),a("span",{staticClass:"mr-1"},[e._v("·")]),a("v-icon",{staticClass:"mr-1"},[e._v(" mdi-account-group-outline ")]),a("span",{staticClass:"subheading"},[e._v(e._s(e.churrasco.totalDeConvidados))])],1)],1)],1)],1)},F=[],J={props:{churrasco:{required:!0}},data:function(){return{teste:null}},methods:{goToEditChurras:function(){this.$router.push({name:"editchurras",params:{id:this.churrasco.id}})}}},W=J,K=a("132d"),Q=a("da13"),X=a("8270"),Z=a("5d23"),ee=Object(l["a"])(W,U,F,!1,null,null,null),te=ee.exports;u()(ee,{VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VIcon:K["a"],VListItem:Q["a"],VListItemAvatar:X["a"],VListItemContent:Z["a"],VListItemTitle:Z["b"],VRow:E["a"]});var ae={name:"Churrasco",data:function(){return{churrascos:[]}},components:{Card:te},created:function(){var e=this;this.$http.get("churrascos").then((function(t){e.churrascos=t.data}))}},re=ae,oe=Object(l["a"])(re,G,L,!1,null,null,null),se=oe.exports;u()(oe,{VCol:w["a"],VRow:E["a"]});var ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{complete:e.e1>1,step:"1"}},[e._v(" Informe os dados do seu Churras! ")]),a("v-divider"),a("v-stepper-step",{attrs:{complete:e.e1>2,step:"2"}},[e._v(" Quando vai ser? ")]),a("v-divider"),a("v-stepper-step",{attrs:{complete:e.e1>3,step:"3"}},[e._v(" Contribuição para o Churras ")]),a("v-divider"),a("v-stepper-step",{attrs:{step:"4"}},[e._v(" Convidar a Galera! ")])],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"12"}},[a("v-text-field",{attrs:{maxlength:"100","error-messages":e.descricaoErrors,counter:"100",label:"Descrição"},model:{value:e.churrasco.descricao,callback:function(t){e.$set(e.churrasco,"descricao",t)},expression:"churrasco.descricao"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"12"}},[a("v-textarea",{attrs:{maxlength:"500",counter:"500",label:"Observações"},model:{value:e.churrasco.observacoes,callback:function(t){e.$set(e.churrasco,"observacoes",t)},expression:"churrasco.observacoes"}})],1)],1)],1),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.validaCampos(),e.e1=2}}},[e._v(" Continue ")])],1),a("v-stepper-content",{attrs:{step:"2"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Data","prepend-icon":"mdi-calendar","error-messages":e.dataErrors,readonly:""},model:{value:e.dateText,callback:function(t){e.dateText=t},expression:"dateText"}},"v-text-field",o,!1),r))]}}]),model:{value:e.menuData,callback:function(t){e.menuData=t},expression:"menuData"}},[a("v-date-picker",{attrs:{type:"date",locale:"pt-br",min:e.nowDate,"no-title":"",scrollable:""},on:{input:function(t){e.menuData=!1}},model:{value:e.churrasco.data,callback:function(t){e.$set(e.churrasco,"data",t)},expression:"churrasco.data"}},[a("v-spacer")],1)],1)],1),a("v-col",{attrs:{cols:"6",sm:"12",md:"6"}},[a("v-menu",{ref:"menuHorario",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.churrasco.horario,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){return e.$set(e.churrasco,"horario",t)},"update:return-value":function(t){return e.$set(e.churrasco,"horario",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Horário","prepend-icon":"mdi-clock-time-four-outline","error-messages":e.horarioErrors,readonly:""},model:{value:e.churrasco.horario,callback:function(t){e.$set(e.churrasco,"horario",t)},expression:"churrasco.horario"}},"v-text-field",o,!1),r))]}}]),model:{value:e.menuHorario,callback:function(t){e.menuHorario=t},expression:"menuHorario"}},[e.menuHorario?a("v-time-picker",{attrs:{"full-width":"",format:"24hr"},on:{"click:minute":function(t){return e.$refs.menuHorario.save(e.churrasco.horario)}},model:{value:e.churrasco.horario,callback:function(t){e.$set(e.churrasco,"horario",t)},expression:"churrasco.horario"}}):e._e()],1)],1)],1),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.validaCampos(),e.e1=3}}},[e._v(" Continue ")]),a("v-btn",{attrs:{text:""},on:{click:function(t){!(e.e1>1)||(e.e1=e.e1-1)}}},[e._v(" Voltar ")])],1),a("v-stepper-content",{attrs:{step:"3"}},[a("OpcoesComponent",{staticClass:"mb-5",on:{"update-opcoes":e.updateOpcoes}}),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.validaCampos(),e.e1=4}}},[e._v(" Continue ")]),a("v-btn",{attrs:{text:""},on:{click:function(t){!(e.e1>1)||(e.e1=e.e1-1)}}},[e._v(" Voltar ")])],1),a("v-stepper-content",{attrs:{step:"4"}},[a("v-combobox",{attrs:{label:"Nome do Convidado",multiple:"","persistent-hint":"",hint:"Digite o nome do convidado e aperte a tecla ENTER para adicionar",chips:""},on:{change:e.addConvidado},scopedSlots:e._u([{key:"no-data",fn:function(){return[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[e._v(" Pressione "),a("kbd",[e._v("enter")]),e._v(" para adicionar um convidado ")])],1)],1)]},proxy:!0},{key:"selection",fn:function(t){return[a("v-chip",e._b({key:JSON.stringify(t.item),attrs:{"input-value":t.selected,disabled:t.disabled},on:{"click:close":function(e){return t.parent.selectItem(t.item)}}},"v-chip",t.attrs,!1),[a("v-avatar",{staticClass:"accent white--text",attrs:{left:""},domProps:{textContent:e._s(t.item.slice(0,1).toUpperCase())}}),e._v(" "+e._s(t.item)+" ")],1)]}}])}),a("v-btn",{attrs:{color:"primary"},on:{click:e.salvar}},[e._v(" Salvar ")]),a("v-btn",{attrs:{text:""},on:{click:function(t){!(e.e1>1)||(e.e1=e.e1-1)}}},[e._v(" Voltar ")])],1)],1),e.error&&this.$v.$invalid?a("v-alert",{attrs:{text:"",prominent:"",type:"error",icon:"mdi-cloud-alert"}},[e._v(" Alguns campos necessitam de sua atenção... Por favor, volte e faça a correção. ")]):e._e()],1)},ne=[],ce=(a("fb6a"),a("159b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:""}},[e._v("Opções de Contribuição")]),a("v-card-text",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.opcoes},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Opções de contribuição")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),r),[e._v(" Nova Opção ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Descrição"},model:{value:e.editedItem.descricao,callback:function(t){e.$set(e.editedItem,"descricao",t)},expression:"editedItem.descricao"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("money",e._b({model:{value:e.editedItem.valor,callback:function(t){e.$set(e.editedItem,"valor",t)},expression:"editedItem.valor"}},"money",e.money,!1))],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Tem certeza que deseja excluir esta opção?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(r)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(r)}}},[e._v(" mdi-delete ")])]}},{key:"item.valor",fn:function(t){var a=t.item;return[e._v(" R$ "+e._s(e.formatPrice(a.valor))+" ")]}}])})],1)],1)}),le=[],de=(a("a434"),a("99af"),a("ac1f"),a("5319"),a("b680"),a("d3b7"),a("25f0"),a("716b")),ue=a.n(de),me={components:{Money:de["Money"]},data:function(){return{dialog:!1,money:{decimal:",",thousands:".",prefix:"R$ ",suffix:"",precision:2,masked:!1},dialogDelete:!1,headers:[{text:"Descrição",align:"start",sortable:!1,value:"descricao"},{text:"Valor",value:"valor"},{text:"Actions",value:"actions",sortable:!1}],opcoes:[],editedIndex:-1,editedItem:{descricao:"",valor:0},defaultItem:{descricao:"",valor:0}}},props:{items:{required:!1},updateDatabase:{require:!0},idChurrasco:{require:!0}},computed:{formTitle:function(){return-1===this.editedIndex?"Adicionar Opção":"Editar Opção"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()},items:function(){this.opcoes=this.items}},methods:{editItem:function(e){this.editedIndex=this.opcoes.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.opcoes.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){this.updateDatabase?this.delete():(this.opcoes.splice(this.editedIndex,1),this.closeDelete())},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.updateDatabase?this.update():(Object.assign(self.opcoes[self.editedIndex],self.editedItem),this.close()):this.updateDatabase?this.insert():(this.opcoes.push(this.editedItem),this.$emit("update-opcoes",this.opcoes),this.close())},insert:function(){var e=this,t=this;this.$http.post("churrascos/".concat(this.idChurrasco,"/opcoes"),this.$qs.stringify(this.editedItem)).then((function(a){t.$toast.success(a.data?a.data:"Opcao criada com sucesso!"),e.opcoes.push(e.editedItem),e.close()}),(function(t){var a="";t.response?Array.isArray(t.response.data)?t.response.data.forEach((function(e){a+=e.errorMessage})):a=t.response.data:a="Não foi possível criar a Opção, tente mais tarde.",e.$toast.error(a)}))},update:function(){var e=this,t=this;this.$http.put("churrascos/".concat(this.editedItem.idChurrasco,"/opcoes/").concat(this.editedItem.id),this.$qs.stringify(this.editedItem)).then((function(a){t.$toast.success(a.data?a.data:"Opção atualizada com sucesso!"),Object.assign(t.opcoes[t.editedIndex],t.editedItem),e.close()}),(function(t){var a="";t.response?Array.isArray(t.response.data)?t.response.data.forEach((function(e){a+=e.errorMessage})):a=t.response.data:a="Não foi possível atializar a Opção, tente mais tarde.",e.$toast.error(a)}))},delete:function(){var e=this,t=this;this.$http.delete("churrascos/".concat(this.editedItem.idChurrasco,"/opcoes/").concat(this.editedItem.id)).then((function(a){t.$toast.success(a.data?a.data:"Opção ecluído com sucesso!"),e.opcoes.splice(e.editedIndex,1),e.closeDelete()}),(function(t){var a="";t.response?Array.isArray(t.response.data)?t.response.data.forEach((function(e){a+=e.errorMessage})):a=t.response.data:a="Não foi possível excluir a Opção, tente mais tarde.",e.$toast.error(a)}))},formatPrice:function(e){var t=(e/1).toFixed(2).replace(".",",");return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},ve=me,he=a("8fea"),fe=a("169a"),pe=a("2fa4"),be=a("71d9"),ge=a("2a7f"),xe=Object(l["a"])(ve,ce,le,!1,null,null,null),ke=xe.exports;u()(xe,{VBtn:j["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCol:w["a"],VContainer:V["a"],VDataTable:he["a"],VDialog:fe["a"],VDivider:I["a"],VIcon:K["a"],VRow:E["a"],VSpacer:pe["a"],VTextField:S["a"],VToolbar:be["a"],VToolbarTitle:ge["a"]});var Ce={mixins:[N["validationMixin"]],validations:{churrasco:{descricao:{required:z["required"]},data:{required:z["required"]},horario:{required:z["required"]}}},components:{OpcoesComponent:ke},data:function(){return{e1:1,error:!1,dateText:null,menuData:!1,menuHorario:!1,nowDate:(new Date).toISOString().slice(0,10),churrasco:{data:null,descricao:"",observacoes:"",opcoes:[],convidados:[]}}},watch:{"churrasco.data":function(e){this.dateText=this.moment(e).format("DD/MM/YYYY")},"churrasco.horario":function(e){this.churrasco.data=this.moment(this.churrasco.data).startOf("day").add(e).format("YYYY-MM-DD HH:mm")}},methods:{updateOpcoes:function(e){this.churrasco.opcoes=e},validaCampos:function(){return!this.$v.$invalid||(this.$v.$touch(),!1)},addConvidado:function(e){var t=this;e.length>0&&(this.churrasco.convidados=[],e.forEach((function(e){t.churrasco.convidados.push({nome:e})})))},salvar:function(){var e=this;if(this.$v.$invalid)return this.$v.$touch(),void(this.error=!0);var t=this;this.$http.post("churrascos/",this.$qs.stringify(this.churrasco)).then((function(a){e.$toast.success(a.data?a.data:"Churrasco criado com sucesso!"),t.$router.push({name:"churrascos"})}),(function(t){var a="";t.response?Array.isArray(t.response.data)?t.response.data.forEach((function(e){a+=e.errorMessage})):a=t.response.data:a="Não foi possível criar o churrasco, tente mais tarde.",e.$toast.error(a)}))}},computed:{horarioErrors:function(){var e=[];return this.$v.churrasco.horario.$dirty?(!this.$v.churrasco.horario.required&&e.push("É necessário selecionar um horário."),e):e},dataErrors:function(){var e=[];return this.$v.churrasco.data.$dirty?(!this.$v.churrasco.data.required&&e.push("É necessário selecionar uma data."),e):e},descricaoErrors:function(){var e=[];return this.$v.churrasco.descricao.$dirty?(!this.$v.churrasco.descricao.required&&e.push("A descricao é obrigatória"),e):e}}},je=Ce,_e=a("0798"),ye=a("8212"),$e=a("cc20"),we=a("2b5d"),Ve=a("2e4b"),Ie=a("e449"),Oe=a("7e85"),De=a("e516"),Te=a("9c54"),Ee=a("56a4"),Se=a("a844"),qe=a("c964"),Ae=Object(l["a"])(je,ie,ne,!1,null,null,null),Re=Ae.exports;u()(Ae,{VAlert:_e["a"],VAvatar:ye["a"],VBtn:j["a"],VChip:$e["a"],VCol:w["a"],VCombobox:we["a"],VContainer:V["a"],VDatePicker:Ve["a"],VDivider:I["a"],VListItem:Q["a"],VListItemContent:Z["a"],VListItemTitle:Z["b"],VMenu:Ie["a"],VRow:E["a"],VSpacer:pe["a"],VStepper:Oe["a"],VStepperContent:De["a"],VStepperHeader:Te["a"],VStepperItems:Te["b"],VStepperStep:Ee["a"],VTextField:S["a"],VTextarea:Se["a"],VTimePicker:qe["a"]});var Me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",[a("v-col",{attrs:{cols:"12",sm:"8",md:"8"}},[a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:""}},[e._v("Informações do Churras")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"12"}},[a("v-text-field",{attrs:{maxlength:"100","error-messages":e.descricaoErrors,counter:"100",label:"Descrição"},model:{value:e.churrasco.descricao,callback:function(t){e.$set(e.churrasco,"descricao",t)},expression:"churrasco.descricao"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"12"}},[a("v-textarea",{attrs:{maxlength:"500",counter:"500",label:"Observações"},model:{value:e.churrasco.observacoes,callback:function(t){e.$set(e.churrasco,"observacoes",t)},expression:"churrasco.observacoes"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Data","prepend-icon":"mdi-calendar","error-messages":e.dataErrors,readonly:""},model:{value:e.dateText,callback:function(t){e.dateText=t},expression:"dateText"}},"v-text-field",o,!1),r))]}}]),model:{value:e.menuData,callback:function(t){e.menuData=t},expression:"menuData"}},[a("v-date-picker",{attrs:{type:"date",locale:"pt-br",min:e.nowDate,"no-title":"",scrollable:""},on:{input:function(t){e.menuData=!1}},model:{value:e.churrasco.data,callback:function(t){e.$set(e.churrasco,"data",t)},expression:"churrasco.data"}},[a("v-spacer")],1)],1)],1),a("v-col",{attrs:{cols:"6",sm:"12",md:"6"}},[a("v-menu",{ref:"menuHorario",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.churrasco.horario,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){return e.$set(e.churrasco,"horario",t)},"update:return-value":function(t){return e.$set(e.churrasco,"horario",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Horário","prepend-icon":"mdi-clock-time-four-outline","error-messages":e.horarioErrors,readonly:""},model:{value:e.churrasco.horario,callback:function(t){e.$set(e.churrasco,"horario",t)},expression:"churrasco.horario"}},"v-text-field",o,!1),r))]}}]),model:{value:e.menuHorario,callback:function(t){e.menuHorario=t},expression:"menuHorario"}},[e.menuHorario?a("v-time-picker",{attrs:{"full-width":"",format:"24hr"},on:{"click:minute":function(t){return e.$refs.menuHorario.save(e.churrasco.horario)}},model:{value:e.churrasco.horario,callback:function(t){e.$set(e.churrasco,"horario",t)},expression:"churrasco.horario"}}):e._e()],1)],1)],1)],1),a("v-card-actions",{staticClass:"justify-end"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.update}},[e._v("Atualizar")]),a("v-btn",{staticClass:"ml-5",attrs:{color:"error"},on:{click:function(t){e.dialogDelete=!e.dialogDelete}}},[e._v(" Excluir ")])],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[a("OpcoesComponent",{staticClass:"mb-5",attrs:{items:e.opcoes,idChurrasco:e.churrasco.id,updateDatabase:!0},on:{"update-opcoes":e.updateOpcoes}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("ConvidadosComponent",{staticClass:"mb-5",attrs:{items:e.convidados,idChurrasco:e.churrasco.id,itemsOpcoes:e.opcoes}})],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Tem certeza que deseja excluir o Churras?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),a("v-spacer")],1)],1)],1)],1)},Ne=[],ze=a("1da1"),Pe=(a("96cf"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:""}},[e._v("Convidados")]),a("v-card-text",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.convidados},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Convidados")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),r),[e._v(" Novo Convidado ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Nome"},model:{value:e.editedItem.nome,callback:function(t){e.$set(e.editedItem,"nome",t)},expression:"editedItem.nome"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-select",{attrs:{items:e.opcoes,label:"Contribuição","item-text":"descricao","return-object":"",chips:""},scopedSlots:e._u([{key:"selection",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.descricao)+" (R$ "+e._s(e.formatPrice(a.valor))+") ")]}},{key:"item",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.descricao)+" (R$ "+e._s(e.formatPrice(a.valor))+") ")]}}]),model:{value:e.editedItem.opcao,callback:function(t){e.$set(e.editedItem,"opcao",t)},expression:"editedItem.opcao"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Valor Pago"},model:{value:e.editedItem.valorContribuicao,callback:function(t){e.$set(e.editedItem,"valorContribuicao",t)},expression:"editedItem.valorContribuicao"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Tem certeza que deseja excluir este convidado?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(r)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(r)}}},[e._v(" mdi-delete ")])]}},{key:"item.quitado",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.quitado(a))+" ")]}},{key:"item.opcao",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.montaDescricao(a))+" ")]}},{key:"item.valorContribuicao",fn:function(t){var a=t.item;return[e._v(" R$ "+e._s(e.formatPrice(a.valorContribuicao))+" ")]}}])})],1)],1)}),He=[],Ye={data:function(){return{dialog:!1,dialogDelete:!1,headers:[{text:"Nome",align:"start",sortable:!1,value:"nome"},{text:"Opção de contribuição",value:"opcao"},{text:"Valor Pago",value:"valorContribuicao"},{text:"Quitado?",value:"quitado"},{text:"Actions",value:"actions",sortable:!1}],opcoes:[],convidados:[],editedIndex:-1,editedItem:{nome:"",valorContribuicao:0,idOpcao:null,opcao:{},churrasco:null},defaultItem:{nome:"",valorContribuicao:0,opcao:{}}}},props:{items:{type:null,required:!1},idChurrasco:{required:!0},itemsOpcoes:{type:null,required:!0}},computed:{formTitle:function(){return-1===this.editedIndex?"Adicionar Convidado":"Editar Convidado"}},watch:{dialog:function(e){e||this.close()},"editedItem.opcao":function(e){e&&(this.editedItem.idOpcao=e.id)},dialogDelete:function(e){e||this.closeDelete()},items:function(e){this.convidados=e},itemsOpcoes:function(){this.opcoes=this.itemsOpcoes}},methods:{editItem:function(e){this.editedIndex=this.convidados.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.convidados.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){this.delete()},montaDescricao:function(e){if(e.opcao)return"".concat(e.opcao.descricao," (R$ ").concat(this.formatPrice(e.opcao.valor),")")},quitado:function(e){return e.opcao?e.opcao.valor>e.valorContribuicao?"Não":"Sim":"Não"},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},update:function(){var e=this,t=this;this.$http.put("churrascos/".concat(this.editedItem.idChurrasco,"/convidados/").concat(this.editedItem.id),this.$qs.stringify(this.editedItem)).then((function(a){t.$toast.success(a.data?a.data:"Convidado atualizado com sucesso!"),Object.assign(t.convidados[t.editedIndex],t.editedItem),e.close()}),(function(t){var a="";t.response?Array.isArray(t.response.data)?t.response.data.forEach((function(e){a+=e.errorMessage})):a=t.response.data:a="Não foi possível atializar o convidado, tente mais tarde.",e.$toast.error(a)}))},insert:function(){var e=this,t=this;this.$http.post("churrascos/".concat(this.idChurrasco,"/convidados"),this.$qs.stringify(this.editedItem)).then((function(a){t.$toast.success(a.data?a.data:"Convidado criado com sucesso!"),e.convidados.push(e.editedItem),e.close()}),(function(t){var a="";t.response?Array.isArray(t.response.data)?t.response.data.forEach((function(e){a+=e.errorMessage})):a=t.response.data:a="Não foi possível criar o convidado, tente mais tarde.",e.$toast.error(a)}))},delete:function(){var e=this,t=this;this.$http.delete("churrascos/".concat(this.editedItem.idChurrasco,"/convidados/").concat(this.editedItem.id)).then((function(a){t.$toast.success(a.data?a.data:"Convidado ecluído com sucesso!"),e.convidados.splice(e.editedIndex,1),e.closeDelete()}),(function(t){var a="";t.response?Array.isArray(t.response.data)?t.response.data.forEach((function(e){a+=e.errorMessage})):a=t.response.data:a="Não foi possível excluir o convidado, tente mais tarde.",e.$toast.error(a)}))},save:function(){var e=this;return Object(ze["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.editedIndex>-1)){t.next=5;break}return t.next=3,e.update();case 3:t.next=6;break;case 5:e.insert();case 6:case"end":return t.stop()}}),t)})))()},formatPrice:function(e){var t=(e/1).toFixed(2).replace(".",",");return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},Be=Ye,Ge=a("b974"),Le=Object(l["a"])(Be,Pe,He,!1,null,null,null),Ue=Le.exports;u()(Le,{VBtn:j["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCol:w["a"],VContainer:V["a"],VDataTable:he["a"],VDialog:fe["a"],VDivider:I["a"],VIcon:K["a"],VRow:E["a"],VSelect:Ge["a"],VSpacer:pe["a"],VTextField:S["a"],VToolbar:be["a"],VToolbarTitle:ge["a"]});var Fe={mixins:[N["validationMixin"]],validations:{churrasco:{descricao:{required:z["required"]},data:{required:z["required"]},horario:{required:z["required"]}}},components:{OpcoesComponent:ke,ConvidadosComponent:Ue},props:{id:{required:!0}},data:function(){return{e1:1,convidados:null,opcoes:[],dataComHora:null,dateText:null,menuData:!1,dialogDelete:!1,menuHorario:!1,nowDate:(new Date).toISOString().slice(0,10),churrasco:{id:null,data:null,descricao:"",observacoes:"",horario:null,convidados:null,opcoes:null}}},watch:{"churrasco.data":function(e){this.dateText=this.moment(e).format("DD/MM/YYYY")},"churrasco.horario":function(e){this.churrasco.data=this.moment(this.churrasco.data).startOf("day").add(e).format("YYYY-MM-DD HH:mm")},"churrasco.convidados":function(e){this.convidados=e},"churrasco.opcoes":function(e){this.opcoes=e}},mounted:function(){var e=this;return Object(ze["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadChurras();case 2:case"end":return t.stop()}}),t)})))()},methods:{validaCampos:function(){return!this.$v.$invalid||(this.$v.$touch(),!1)},updateOpcoes:function(e){this.churrasco.opcoes=e},delete:function(){var e=this,t=this;this.$http.delete("churrascos/".concat(this.churrasco.id)).then((function(e){t.$toast.success(e.data?e.data:"Churrasco exluído com sucesso!"),t.$router.push({name:"churrascos"})}),(function(t){var a="";t.response?Array.isArray(t.response.data)?t.response.data.forEach((function(e){a+=e.errorMessage})):a=t.response.data:a="Não foi possível excluir a Opção, tente mais tarde.",e.$toast.error(a)})),this.closeDelete()},update:function(){var e=this;this.$v.$invalid?this.$v.$touch():this.$http.put("churrascos/".concat(this.churrasco.id),this.$qs.stringify(this.churrasco)).then((function(t){e.$toast.success(t.data?t.data:"Churrasco atualizado com sucesso!")}),(function(t){var a="";t.response?Array.isArray(t.response.data)?t.response.data.forEach((function(e){a+=e.errorMessage})):a=t.response.data:a="Não foi possível criar o churrasco, tente mais tarde.",e.$toast.error(a)}))},deleteItemConfirm:function(){this.delete()},closeDelete:function(){this.dialogDelete=!1},loadChurras:function(){var e=this;this.$http.get("churrascos/"+e.id).then((function(t){e.churrasco.id=t.data.id,e.churrasco.descricao=t.data.descricao,e.churrasco.observacoes=t.data.observacoes,e.churrasco.opcoes=t.data.opcoes,e.churrasco.convidados=t.data.convidados,e.churrasco.horario=e.moment(t.data.data).format("HH:mm"),e.churrasco.data=e.moment(t.data.data).format("YYYY-MM-DD"),console.log("Load Churrasco",e.churrasco),console.log("Churrasco Carregado",e.churrascoCarregado)})).catch((function(e){console.log(e)}))}},computed:{horarioErrors:function(){var e=[];return this.$v.churrasco.horario.$dirty?(!this.$v.churrasco.horario.required&&e.push("É necessário selecionar um horário."),e):e},churrascoCarregado:function(){return this.churrasco.id>0},dataErrors:function(){var e=[];return this.$v.churrasco.data.$dirty?(!this.$v.churrasco.data.required&&e.push("É necessário selecionar uma data."),e):e},descricaoErrors:function(){var e=[];return this.$v.churrasco.descricao.$dirty?(!this.$v.churrasco.descricao.required&&e.push("A descricao é obrigatória"),e):e}}},Je=Fe,We=Object(l["a"])(Je,Me,Ne,!1,null,null,null),Ke=We.exports;u()(We,{VBtn:j["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCol:w["a"],VDatePicker:Ve["a"],VDialog:fe["a"],VMenu:Ie["a"],VRow:E["a"],VSpacer:pe["a"],VTextField:S["a"],VTextarea:Se["a"],VTimePicker:qe["a"],VToolbar:be["a"]}),r["a"].use(b["a"]);var Qe=[{path:"/login",name:"login",component:A,meta:{layout:"login"}},{path:"/register",name:"register",component:B,meta:{layout:"register"}},{path:"/churrascos",name:"churrascos",component:se},{path:"/churrascos/create",name:"createchurras",component:Re},{path:"/churrascos/edit/:id",name:"editchurras",component:Ke,props:!0}],Xe=new b["a"]({mode:"history",routes:Qe}),Ze=Xe,et=a("2f62"),tt={namespaced:!0,state:function(){return{drawer:null}},actions:{TOGGLE_HOME_NAVIGATION_DRAWER:function(e,t){e.commit("TOGGLE_HOME_NAVIGATION_DRAWER",t)},OpenModalNovoChurrasco:function(e){e.commit("OpenModalNovoChurrasco")}},mutations:{TOGGLE_HOME_NAVIGATION_DRAWER:function(e,t){console.log(e.drawer),e.drawer=t}}},at=a("bc3a"),rt=a.n(at),ot={namespaced:!0,state:function(){return{user:{}}},actions:{SET_USER:function(e,t){e.commit("SET_USER",t)},GET_USER:function(e){rt.a.get("usuarios").then((function(t){e.dispatch("SET_USER",t.data)})).catch((function(e){return e}))}},mutations:{SET_USER:function(e,t){localStorage.setItem("usuario",JSON.stringify(t)),e.user=t}}};r["a"].use(et["a"]);var st=new et["a"].Store({modules:{home:tt,usuario:ot}}),it=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-main",[a("HeaderComponent"),a("v-container",[a("router-view"),a("div",{staticClass:"fixed",attrs:{id:"create"}},[a("FloatButtonComponent")],1)],1),a("div",{staticClass:"ft"},[a("FooterComponent")],1)],1)},nt=[],ct=a("5530"),lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app-bar",{staticClass:"mb-5",attrs:{dark:"",color:"primary"}},[a("v-app-bar-nav-icon",{on:{click:e.TOGGLE_HOME_NAVIGATION_DRAWER}}),a("v-toolbar-title",[a("h2",[e._v("Churras Trinca")])])],1)},dt=[],ut={methods:Object(ct["a"])({},Object(et["b"])("home",["TOGGLE_HOME_NAVIGATION_DRAWER"]))},mt=ut,vt=a("40dc"),ht=a("5bc1"),ft=Object(l["a"])(mt,lt,dt,!1,null,null,null),pt=ft.exports;u()(ft,{VAppBar:vt["a"],VAppBarNavIcon:ht["a"],VToolbarTitle:ge["a"]});var bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-footer",{attrs:{dark:"",padless:""}},[a("v-card",{staticClass:"flex",attrs:{color:"secondary",flat:"",tile:""}},[a("v-card-title",[a("strong",{staticClass:"subheading"},[e._v("Conecte-se com a gente em nossas redes sociais! ; )")]),a("v-spacer"),e._l(e.icons,(function(t){return a("v-btn",{key:t,staticClass:"mx-4",attrs:{dark:"",icon:""}},[a("v-icon",{attrs:{size:"24px"}},[e._v(" "+e._s(t)+" ")])],1)}))],2)],1)],1)},gt=[],xt={data:function(){return{icons:["mdi-facebook","mdi-twitter","mdi-linkedin","mdi-instagram"]}}},kt=xt,Ct=a("553a"),jt=Object(l["a"])(kt,bt,gt,!1,null,null,null),_t=jt.exports;u()(jt,{VBtn:j["a"],VCard:_["a"],VCardTitle:y["c"],VFooter:Ct["a"],VIcon:K["a"],VSpacer:pe["a"]});var yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-speed-dial",{staticClass:"md-bottom-right md-fixed",attrs:{bottom:e.bottom,right:e.right,direction:e.direction,transition:e.transition},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-btn",{attrs:{color:"blue darken-2",dark:"",fab:"","x-large":""},model:{value:e.fab,callback:function(t){e.fab=t},expression:"fab"}},[e.fab?a("v-icon",[e._v(" mdi-emoticon-cool ")]):a("v-icon",[e._v(" mdi-grill ")])],1)]},proxy:!0}]),model:{value:e.fab,callback:function(t){e.fab=t},expression:"fab"}},[a("v-tooltip",{attrs:{disabled:"",left:"",value:!0},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({attrs:{slot:"activator",fab:"",dark:"",small:"",color:"green"},on:{click:function(t){return e.goToNewChurras()}},slot:"activator"},"v-btn",o,!1),r),[a("v-icon",[e._v("mdi-grill")])],1)]}}])},[a("span",[e._v("Marcar um churras!")])]),a("v-tooltip",{attrs:{disabled:"",left:"",value:!0},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({attrs:{slot:"activator",fab:"",dark:"",small:"",color:"green"},on:{click:function(t){return e.goToChurrascos()}},slot:"activator"},"v-btn",o,!1),r),[a("v-icon",[e._v("mdi-calendar-heart")])],1)]}}])},[a("span",[e._v("Churrascos marcados!")])])],1)},$t=[],wt={data:function(){return{direction:"top",fab:!1,fling:!0,hover:!1,tabs:null,top:!1,right:!0,bottom:!0,left:!1,absolute:!1,fixed:!1,transition:"slide-y-reverse-transition"}},methods:Object(ct["a"])(Object(ct["a"])({},Object(et["b"])("home",["OpenModalNovoChurrasco"])),{},{goToNewChurras:function(){var e=this;return Object(ze["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$router.push({name:"createchurras"}).catch((function(){}));case 2:case"end":return t.stop()}}),t)})))()},goToChurrascos:function(){var e=this;return Object(ze["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$router.push({name:"churrascos"}).catch((function(){}));case 2:case"end":return t.stop()}}),t)})))()}})},Vt=wt,It=a("c73b"),Ot=a("3a2f"),Dt=Object(l["a"])(Vt,yt,$t,!1,null,null,null),Tt=Dt.exports;u()(Dt,{VBtn:j["a"],VIcon:K["a"],VSpeedDial:It["a"],VTooltip:Ot["a"]});var Et={name:"Home",components:{HeaderComponent:pt,FooterComponent:_t,FloatButtonComponent:Tt},computed:{usuarioBD:function(){return localStorage.getItem("usuario")}},created:function(){this.carregaUsuario()},methods:Object(ct["a"])(Object(ct["a"])(Object(ct["a"])({},Object(et["b"])("usuario",["GET_USER"])),Object(et["b"])("usuario",["SET_USER"])),{},{carregaUsuario:function(){var e=this;return Object(ze["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=e.usuarioBD&&"undefined"!==typeof usuarioBD){t.next=9;break}if(null!=e.usuario&&"undefined"!==typeof e.usuario){t.next=4;break}return t.next=4,e.GET_USER();case 4:return console.log(e.usuario),t.next=7,localStorage.setItem("usuario",JSON.stringify(e.usuario));case 7:t.next=12;break;case 9:return a=JSON.parse(e.usuarioBD),t.next=12,e.SET_USER(a);case 12:console.log("Usuario caregado");case 13:case"end":return t.stop()}}),t)})))()}})},St=Et,qt=(a("c5b2"),a("f6c4")),At=Object(l["a"])(St,it,nt,!1,null,"6fd5c4b8",null),Rt=At.exports;u()(At,{VContainer:V["a"],VMain:qt["a"]});var Mt=a("4328"),Nt=a.n(Mt),zt=[],Pt="access_token",Ht="refresh_token",Yt=!1,Bt=function(e){var t="".concat(e.substring(0,5),"..").concat(e.substring(e.length-5));console.log("Set token: ".concat(t)),localStorage.setItem(Pt,e),rt.a.defaults.headers["Authorization"]="Bearer "+e,rt.a.defaults.headers.common["Access-Control-Allow-Origin"]="*"},Gt=function(e){var t="".concat(e.substring(0,5),"..").concat(e.substring(e.length-5));console.log("Set cutRefreshToken: ".concat(t)),localStorage.setItem(Ht,e)},Lt=function(){console.log("Clear token"),localStorage.removeItem(Pt),localStorage.removeItem(Ht),rt.a.defaults.headers["Authorization"]=null};rt.a.defaults.timeout=1e4,rt.a.interceptors.request.use((function(e){var t=localStorage.getItem(Pt);return t&&!e.noAuth&&(e.headers["Authorization"]="Bearer "+t),e}),(function(e){return Promise.reject(e)})),rt.a.interceptors.response.use(null,(function(e){var t=e.response,a=e.config,r=localStorage.getItem(Pt);if(401===t.status){if(!r)return Ze.push({name:"login"}).catch((function(){return Promise.reject(e)})),Promise.reject(e);if(!Yt){Yt=!0,console.log("Request for a new token");var o=localStorage.getItem(Ht);rt.a.post("Account/refresh-token",Nt.a.stringify({refreshtoken:o})).then((function(e){var t=e.data;console.log("New token received"),Bt(t.token),Gt(t.refreshToken),zt.forEach((function(e){return e(t.token)}))})).catch((function(){console.log("An error occurred while getting a new token"),Lt(),zt.forEach((function(e){return e(null)})),Ze.push({name:"login"})})).finally((function(){console.log("Clear queue of failed requests"),zt=[],Yt=!1}))}return console.log("The request is waiting for a new token.. [".concat(t.config.url,"]")),new Promise((function(t,r){console.log("requestsToRefresh =",zt),console.log("reject =",r),zt.push((function(o){o&&(a.headers.Authorization="Bearer "+o,t(rt()(a))),r(e)}),(function(e){r(e)}))}))}return Promise.reject(e)})),rt.a.defaults.baseURL="https://osvaldo2109241000.bateaquihost.com.br/Api/",rt.a.headers={Accept:"application/json, application/xml, text/plain, text/html, *.*","Content-Type":"application/json,  Content-Type: multipart/form-data"};var Ut=rt.a,Ft=a("6c42"),Jt=a("c1df"),Wt=a.n(Jt);a("da96");a("d2d4"),r["a"].use(ue.a,{precision:4}),r["a"].config.productionTip=!1,r["a"].component("default-layout",Rt),r["a"].component("login-layout",A),r["a"].component("register-layout",B),r["a"].prototype.$qs=Nt.a,r["a"].prototype.$http=Ut,r["a"].config.productionTip=!1,r["a"].prototype.moment=Wt.a,r["a"].use(Ft["a"],{}),r["a"].use(Nt.a),new r["a"]({vuetify:p,store:st,router:Ze,render:function(e){return e(h)}}).$mount("#app")},c5b2:function(e,t,a){"use strict";a("00b3")}});
//# sourceMappingURL=app.fce7ad5f.js.map